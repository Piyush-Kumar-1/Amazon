[{"C:\\Users\\piyus\\Desktop\\Amazon\\src\\index.js":"1","C:\\Users\\piyus\\Desktop\\Amazon\\src\\reportWebVitals.js":"2","C:\\Users\\piyus\\Desktop\\Amazon\\src\\StateProvider.js":"3","C:\\Users\\piyus\\Desktop\\Amazon\\src\\App.js":"4","C:\\Users\\piyus\\Desktop\\Amazon\\src\\reducer.js":"5","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Home.js":"6","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Header.js":"7","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Login.js":"8","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Checkout.js":"9","C:\\Users\\piyus\\Desktop\\Amazon\\src\\firebase.js":"10","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Orders.js":"11","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Payment.js":"12","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Product.js":"13","C:\\Users\\piyus\\Desktop\\Amazon\\src\\CheckoutProduct.js":"14","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Order.js":"15","C:\\Users\\piyus\\Desktop\\Amazon\\src\\axios.js":"16"},{"size":689,"mtime":1609142302026,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"18"},{"size":487,"mtime":1609141234811,"results":"20","hashOfConfig":"18"},{"size":2966,"mtime":1609490577138,"results":"21","hashOfConfig":"18"},{"size":1093,"mtime":1609432756649,"results":"22","hashOfConfig":"18"},{"size":2807,"mtime":1609138788128,"results":"23","hashOfConfig":"18"},{"size":1907,"mtime":1609489542220,"results":"24","hashOfConfig":"18"},{"size":1758,"mtime":1609434012887,"results":"25","hashOfConfig":"18"},{"size":2067,"mtime":1609509471053,"results":"26","hashOfConfig":"18"},{"size":592,"mtime":1609165602129,"results":"27","hashOfConfig":"18"},{"size":1029,"mtime":1609489567460,"results":"28","hashOfConfig":"18"},{"size":5288,"mtime":1609509563997,"results":"29","hashOfConfig":"18"},{"size":1113,"mtime":1609489496472,"results":"30","hashOfConfig":"18"},{"size":711,"mtime":1609509527124,"results":"31","hashOfConfig":"18"},{"size":1245,"mtime":1609433048902,"results":"32","hashOfConfig":"18"},{"size":166,"mtime":1609222698144,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"vn0cok",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\piyus\\Desktop\\Amazon\\src\\index.js",[],["72","73"],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\reportWebVitals.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\StateProvider.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\App.js",["74","75","76","77","78","79","80"],"import './App.css';\nimport Header from './Header';\nimport Home from './Home'\nimport{BrowserRouter as Router,Switch,Route} from 'react-router-dom'\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport { useStateValue } from './StateProvider';\nimport { useEffect} from 'react';\nimport { auth, db } from './firebase';\nimport Payment from './Payment';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from './Orders';\n\nconst promise = loadStripe(\n  \"pk_test_51I0QjAK4mwNrkM5B9NvRUgsqlu2HziitAmPJFdQIOUu7nRCDIPsoNTIuyIBrpgIckI2H9xyMTD8gxDCpKdpyo7no00asAU4aOe\"\n);\n\nfunction App() {  \n  \n  const[{basket,user},dispatch]=useStateValue()\n\n  const addToBasket1=({title,price,rating,img,id})=>{\n    dispatch({\n        type:'ADD_TO_BASKET',\n        item:{\n            id:id,\n            title:title,\n            price:price,\n            rating:rating,\n            img:img\n        }\n    })\n}\nuseEffect(()=>{\n\n  if(user?.email){\n  \n  db.collection('users')\n  .doc(user?.email)\n  .collection('cart')\n  .doc(user?.email)\n  \n  .set({\n      basket: basket,\n  })\n}\n},[basket])\n\nuseEffect(()=>{\n  auth.onAuthStateChanged(authUser=>{\n    if(authUser){\n      dispatch({\n        type:'SET_USER',\n        user:authUser\n      })\n      db\n          .collection('users')\n          .doc(user?.email)\n          .collection('cart')\n          .get()\n          .then((snapshot)=>{snapshot.docs.forEach(doc => {\n          const data=doc.data()\n          console.log(data.basket)\n          if(data){\n            {data.basket.map(item=>(\n                addToBasket1(item)\n              ))}\n          }\n      })})\n      \n    }else{\n      dispatch({\n        type:'SET_USER',\n        user:null\n      })\n      dispatch({\n        type:\"EMPTY_BASKET\",\n      })\n      const data= localStorage.getItem(\"basket\")\n      const da=JSON.parse(data)\n      if(da){\n        {da.map(item=>(\n          addToBasket1(item)\n        ))}\n      }\n    }\n  })\n\n},[user])\n\n\n  useEffect(() => {\n    const data= localStorage.getItem(\"basket\")\n    const da=JSON.parse(data)\n    if(da){\n      {da.map(item=>(\n        addToBasket1(item)\n      ))}\n  }\n  }, [])\n\n  useEffect(() => {\n    if(!user){\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\n    }\n  },[basket])\n\n  return (   \n    <Router>\n      <div className=\"App\">\n        <Switch>\n        <Route path='/orders'>\n            <Header/>\n            <Orders/>\n          </Route>\n          <Route path='/payment'>\n            <Header/>\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path='/checkout'>\n            <Header/>\n            <Checkout/>\n          </Route>\n          <Route path='/login'>\n            <Login/>\n          </Route>\n          <Route path='/'>\n            <Header/>\n            <Home/>\n          </Route>\n          \n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","C:\\Users\\piyus\\Desktop\\Amazon\\src\\reducer.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Home.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Header.js",["81"],"import React from 'react'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport './Header.css'\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport {auth} from './firebase'\r\n\r\nexport default function Header() {\r\n\r\n    const [{basket,user},dispatch]=useStateValue()\r\n\r\n    const handleAuth =()=>{\r\n        if(user){\r\n            auth.signOut()\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='header'>\r\n            <Link to='/'>\r\n                <img className='header__img' src='http://pngimg.com/uploads/amazon/amazon_PNG11.png' alt=''/>\r\n            </Link>\r\n            <div className='header__search'>\r\n                <input className='header__input' type='text'/>\r\n                <SearchIcon className='header__searchIcon'/>\r\n            </div>\r\n            <div className='header__right'>\r\n                <Link to={!user && '/login'} className='x'>\r\n                    <div onClick={handleAuth} className='header__details'>\r\n                        <p>Hello , {user?user.email:'Guest'}</p>\r\n                        <h3>{user?'Sign Out':'Sign in'}</h3>\r\n                    </div >\r\n                </Link>\r\n                <Link to = '/orders' className='x'>\r\n                    <div className='header__details'>\r\n                        <p>Returns</p>\r\n                        <h3>&Orders</h3>\r\n                    </div>\r\n                </Link>\r\n                <div className='header__details'>\r\n                    <p>your</p>\r\n                    <h3>prime</h3>\r\n                </div>\r\n                <Link to='/checkout'>\r\n                    <AddShoppingCartIcon className='icon' fontSize='large'/>\r\n                </Link>\r\n                <h3>{basket?.length}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Login.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Checkout.js",["82","83"],"import React, { useEffect } from 'react'\r\nimport CheckoutProduct from './CheckoutProduct'\r\nimport { useStateValue } from './StateProvider'\r\nimport './Checkout.css'\r\nimport { getBasketTotal } from './reducer'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CurrencyFormat from 'react-currency-format'\r\n\r\nexport default function Checkout() {\r\n    const history = useHistory();\r\n\r\n    const [{basket},dispatch]=useStateValue()\r\n    \r\n    return (\r\n        <div className='checkout'>\r\n            <div className='checkout__left'>\r\n                <img src='https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg' alt=''/>\r\n                <h3 className='h'>Your Shopping Basket</h3>\r\n\r\n\r\n                {basket.map(item=>(\r\n                     <CheckoutProduct\r\n                        title={item.title}\r\n                        img={item.img}\r\n                        price={item.price}              \r\n                        rating={item.rating}\r\n                        id={item.id}\r\n                        key={item.id}\r\n                 />\r\n                ))}\r\n               \r\n            </div>\r\n            <div className=\"checkout__right\">\r\n                <CurrencyFormat\r\n                    renderText={(value) => (\r\n                    <>\r\n                        <p>\r\n                        Subtotal ({basket.length} items): <strong>{value}</strong>\r\n                        </p>\r\n                        <small className=\"checkout__rightGift\">\r\n                        <input type=\"checkbox\" /> This order contains a gift\r\n                        </small>\r\n                    </>\r\n                    )}\r\n                    decimalScale={2}\r\n                    value={getBasketTotal(basket)} // Part of the homework\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={true}\r\n                    prefix={\"₹\"}\r\n                />\r\n\r\n                <button onClick={e => history.push('/payment')}>Proceed to Checkout</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","C:\\Users\\piyus\\Desktop\\Amazon\\src\\firebase.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Orders.js",["84"],"import React, { useState, useEffect } from 'react';\r\nimport { db } from \"./firebase\";\r\nimport './Orders.css'\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from './Order'\r\n\r\nfunction Orders() {\r\n  const [{user },dispatch ] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if(user) {\r\n        db\r\n        .collection('users')\r\n        .doc(user?.email)\r\n        .collection('orders')\r\n        .orderBy('created', 'desc')\r\n        .onSnapshot(snapshot => (\r\n            setOrders(snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                data: doc.data()\r\n            })))\r\n        ))\r\n    } else {\r\n        setOrders([])\r\n    }\r\n\r\n  }, [user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className='orders__order'>\r\n                {orders?.map(order => (\r\n                    <Order order={order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","C:\\Users\\piyus\\Desktop\\Amazon\\src\\Payment.js",["85"],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Product.js",["86"],"import React from 'react'\r\nimport './Product.css'\r\nimport {useStateValue} from './StateProvider'\r\n\r\nexport default function Product({title,price,rating,img,id}) {\r\n\r\n    const [{},dispatch]=useStateValue()\r\n\r\n    const addToBasket1=()=>{\r\n        dispatch({\r\n            type:'ADD_TO_BASKET',\r\n            item:{\r\n                id:id,\r\n                title:title,\r\n                price:price,\r\n                rating:rating,\r\n                img:img\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='product'>\r\n            <div className='product__info'>\r\n                <p>{title}</p>\r\n                <p className='product__price'>\r\n                    <small>₹</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className='product__rating'>\r\n                    <p>{'🌟'.repeat(rating)}</p>\r\n                </div>\r\n            \r\n            </div>\r\n            <img className='product__img' src={img} alt=''/>\r\n            <button onClick={addToBasket1} className='product__button'>add to cart</button>\r\n\r\n    </div>\r\n    )\r\n}\r\n","C:\\Users\\piyus\\Desktop\\Amazon\\src\\CheckoutProduct.js",["87"],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\Order.js",[],"C:\\Users\\piyus\\Desktop\\Amazon\\src\\axios.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":48,"column":3,"nodeType":"94","endLine":48,"endColumn":11,"suggestions":"95"},{"ruleId":"96","severity":1,"message":"97","line":66,"column":13,"nodeType":"98","messageId":"99","endLine":68,"endColumn":18},{"ruleId":"96","severity":1,"message":"97","line":83,"column":9,"nodeType":"98","messageId":"99","endLine":85,"endColumn":12},{"ruleId":"92","severity":1,"message":"100","line":90,"column":3,"nodeType":"94","endLine":90,"endColumn":9,"suggestions":"101"},{"ruleId":"96","severity":1,"message":"97","line":97,"column":7,"nodeType":"98","messageId":"99","endLine":99,"endColumn":10},{"ruleId":"92","severity":1,"message":"102","line":101,"column":6,"nodeType":"94","endLine":101,"endColumn":8,"suggestions":"103"},{"ruleId":"92","severity":1,"message":"104","line":107,"column":5,"nodeType":"94","endLine":107,"endColumn":13,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":11,"column":26,"nodeType":"108","messageId":"109","endLine":11,"endColumn":34},{"ruleId":"106","severity":1,"message":"110","line":1,"column":17,"nodeType":"108","messageId":"109","endLine":1,"endColumn":26},{"ruleId":"106","severity":1,"message":"107","line":12,"column":21,"nodeType":"108","messageId":"109","endLine":12,"endColumn":29},{"ruleId":"106","severity":1,"message":"107","line":8,"column":18,"nodeType":"108","messageId":"109","endLine":8,"endColumn":26},{"ruleId":"106","severity":1,"message":"111","line":41,"column":15,"nodeType":"108","messageId":"109","endLine":41,"endColumn":22},{"ruleId":"112","severity":1,"message":"113","line":7,"column":12,"nodeType":"114","messageId":"115","endLine":7,"endColumn":14},{"ruleId":"112","severity":1,"message":"113","line":7,"column":11,"nodeType":"114","messageId":"115","endLine":7,"endColumn":13},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user?.email'. Either include it or remove the dependency array.","ArrayExpression",["118"],"no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","React Hook useEffect has missing dependencies: 'addToBasket1' and 'dispatch'. Either include them or remove the dependency array.",["119"],"React Hook useEffect has a missing dependency: 'addToBasket1'. Either include it or remove the dependency array.",["120"],"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["121"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'payload' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},{"desc":"128","fix":"129"},"Update the dependencies array to be: [basket, user?.email]",{"range":"130","text":"131"},"Update the dependencies array to be: [addToBasket1, dispatch, user]",{"range":"132","text":"133"},"Update the dependencies array to be: [addToBasket1]",{"range":"134","text":"135"},"Update the dependencies array to be: [basket, user]",{"range":"136","text":"137"},[1130,1138],"[basket, user?.email]",[1985,1991],"[addToBasket1, dispatch, user]",[2172,2174],"[addToBasket1]",[2281,2289],"[basket, user]"]